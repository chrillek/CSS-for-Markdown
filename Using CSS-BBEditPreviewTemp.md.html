<link rel="stylesheet" href="styles.css">

<h2 id="whywouldyoucareaboutcss">Why would you care about CSS?</h2>

<p>CSS stands for Cascading Style Sheets. It is a text format that allows you to describe the visual appearance of HTML documents. In DEVONthink, CSS is used to determine the visual appearance of Markdown documents when they are rendered as HTML. Whenever you select the <strong>display</strong> (?) mode to look at a Markdown document, you&#8217;ll see it rendered as HTML in some kind of &#8220;style&#8221;. Unless you do anything about it, this will be the style that is built into DEVONthink (and the HTML engine it uses). If you&#8217;re happy with that, you can stop reading here.</p>

<h2 id="howcanyoutelldevonthinktouseyourowncss">How can you tell DEVONthink to use your own CSS?</h2>

<p>As of the time of this writing (DEVONthink Pro Version 3.8 and DEVONthink To Go 3.5.1), there are four methods to specify your own CSS in DEVONthink:</p>

<ol>
<li><p>In the global preferences. In DEVONthink, you&#8217;d provide the x-devonthink-item URL to a record stored somewhere in your database(s) and containing your CSS. In DEVONthink To Go, you do the same in the settings for Markdown documents. A globally defined CSS will influence <em>all</em> Markdown documents in DEVONthink.</p></li>
<li><p>Add <code>css: URL</code> as the first line of your Markdown document(s). The <code>URL</code> can be any valid URL as well as an <code>x-devonthink-item://...</code> one or an absolute address of a record containing your CSS definitions like <code>/Inbox/myCss.txt</code>.</p></li>
<li><p>Add a HTML <code>script</code> element somewhere in your Markdown document, i.e. a piece of code looking like that
<code>&lt;style&gt; Style definitions go here&lt;/style&gt;</code> If you go for this option, make sure that you <em>do not</em> have any empty lines in the <code>style</code> element. Those will break everything.</p></li>
<li><p>Add a HTML <code>link</code> element to the top of your Markdown document like so <code>&lt;link rel=&quot;steylsheet&quot; href=&quot;URL&quot;&gt;</code> Again, the <code>URL</code> parameter can be anything from a usual URL to a <code>x-devonthink-item://...</code> one or an absolute location like <code>/Inbox/myCSS.txt</code>.</p></li>
</ol>

<p>The last three methods will add CSS only to those Markdown documents where you insert them. So they&#8217;re not really useful if you want to make sure that <em>all</em> your Markdown documents look the same.</p>

<h2 id="whatdoescsslooklike">What does CSS look like?</h2>

<p>A style sheet is a sequence of definitions of the form</p>

<pre><code class="css">selector: {
  attribute1: value1;
  attribute2: value2;
  ...;
}
</code></pre>

<p>where <code>selector</code> specifies the HTML elements to which the following definitions are applied. Note that there <em>must</em> be a colon between the attribute and its value, and that there <em>must</em> be a semicolon after the value.</p>

<p>All that selector and attribute stuff might sound overly complicated, so let&#8217;s consider a simple example:</p>

<pre><code class="css">body {
  color: black;
  background-color: white;
}
</code></pre>

<figure>
<img src="images/Kein-Stil.png" alt="The baseline: white background, black text" title="The baseline: white background, black text" />
<figcaption>The baseline: white background, black text</figcaption>
</figure>

<p>These lines ensure that the <code>body</code> element of an HTML document is displayed black (<code>color</code>) on white (<code>background-color</code>). As styles are &#8220;cascading&#8221; (the C in CSS), this simple definition ensures that _all text__ in your rendered Markdown appears black on white – all elements are children of the <code>body</code> element and by default inherit its style definitions.</p>

<p>So what would you do if you wanted to make quotes appear indented and with a different background color? You&#8217;d have to define these attributes for the element <code>blockquote</code>:</p>

<pre><code class="css">blockquote {
  background-color: lightgrey;
  margin-left: 2em;
}
</code></pre>

<p>The <code>background-color</code> should be obvious. <code>left-margin</code> defines the distance of the left edge of the element from the left edge of its parent element. So here, this distance is <code>2em</code>, which means &#8220;two em spaces&#8221;. An em space is a typographical unit that is as wide as the font&#8217;s height.</p>

<h3 id="refrainfromabsoluteunits">Refrain from absolute units!</h3>

<p>In many CSS examples, you&#8217;ll still find units like <code>px</code>, for example something like <code>margin-left: 10px</code>. While it might be tempting to use these absolute units, you should in most cases <em>not</em> do that. Instead, employ relative units like <code>em</code> or <code>%</code> or <code>ch</code> (number of characters) or <code>vw</code> (percentage of the viewport width). These allow for a &#8220;responsive&#8221; layout, i.e. one that works well with different screen sizes and orientations. Pixel sizes vary widely from one device to the next and do not work well if the user zooms in or out.</p>

<p>Note that <code>%</code> values always refer to the enclosing element&#8217;s (i.e. the parent&#8217;s) dimensions. In the case of <code>font-size</code>, a percentage value also refers to the font size of the parent element.</p>

<p>You might have wondered where the <code>blockquote</code> element came from in the second example above. There is a fairly simple relationship between Markdown markers and HTML elements as shown in the following table. Click on the ▶︎ to open it.</p>

<details>
<summary>Relationship between Markdown and HTML elements</summary>

<table>
<colgroup>
<col style="text-align:left;"/>
<col style="text-align:left;"/>
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"> Markdown    </th>
	<th style="text-align:left;"> HTML element                  </th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"> Newline separated text </td>
	<td style="text-align:left;"> <code>&lt;p&gt;text&lt;/p&gt;</code>                 </td>
</tr>
<tr>
	<td style="text-align:left;"> #                      </td>
	<td style="text-align:left;"> <code>&lt;h1&gt;...&lt;/h1&gt;</code>                 </td>
</tr>
<tr>
	<td style="text-align:left;"> ##                     </td>
	<td style="text-align:left;"> <code>&lt;h2&gt;...&lt;/h2&gt;</code>                 </td>
</tr>
<tr>
	<td style="text-align:left;"> ###                    </td>
	<td style="text-align:left;"> <code>&lt;h3&gt;...&lt;/h3&gt;</code>                 </td>
</tr>
<tr>
	<td style="text-align:left;"> and so on until ###### </td>
	<td style="text-align:left;"> <code>&lt;h6&gt;...&lt;/h6&gt;</code>                 </td>
</tr>
<tr>
	<td style="text-align:left;"> -      </td>
	<td style="text-align:left;"> <code>&lt;li&gt;</code> as children of an <code>&lt;ul&gt;</code>, content of the <code>li</code> is wrapped in <code>p</code> elements. </td>
</tr>
<tr>
	<td style="text-align:left;"> 1.      </td>
	<td style="text-align:left;"> <code>&lt;li&gt;</code> as children of an <code>&lt;ol&gt;</code>, content of the <code>li</code> is wrapped in <code>p</code> elements. </td>
</tr>
<tr>
	<td style="text-align:left;"> &gt;      </td>
	<td style="text-align:left;"> <code>&lt;blockquote&gt;...&lt;/blockquote&gt;</code>, content wrapped in <code>p</code>elements.     </td>
</tr>
<tr>
	<td style="text-align:left;"> [text](URL)   </td>
	<td style="text-align:left;"> <code>&lt;a href=&quot;URL&quot;&gt;text&lt;/a&gt;</code>               </td>
</tr>
<tr>
	<td style="text-align:left;"> ![text](URL)   </td>
	<td style="text-align:left;"> <code>&lt;img src=&quot;URL&quot; alt=&quot;text&quot;/&gt;</code>             </td>
</tr>
<tr>
	<td style="text-align:left;"> |&#8230;|    </td>
	<td style="text-align:left;"> <code>&lt;table&gt;...&lt;/table&gt;</code> with all appropriate child elements       </td>
</tr>
</tbody>
</table>

</details>

<h2 id="debuggingcssandplayingwithit">Debugging CSS and playing with it</h2>

<p>While it is possible to change an external CSS, switch the view in DEVONthink and then go back editing the CSS until the results please you, that is a bit tedious. A simpler approach is this:</p>

<ul>
<li>convert your Markdown document to HTML in DEVONthink</li>
<li>open this new HTML document your favorite browser</li>
<li>right click somewhere in the document and select &#8220;Inspect element&#8221;.</li>
</ul>

<p>That will open the developer tools of your browser (you might have to enable developer mode in Safari first, though). There, you&#8217;ll find a &#8220;style&#8221; tab in which you can easily modify the styles for all elements individually or change the definitions in your CSS and see the changes immediately in HTML.</p>

<h2 id="delvingdeeperintocss">Delving deeper into CSS</h2>

<p>CSS is a complicated beast, and it&#8217;s getting more so every day (no thanks to Google inventing and implementing new exciting stuff). The only authoritative documentation is the one at the <a href="https://w3c.org">W3C</a>. However, that&#8217;s unwieldy stuff not meant for mere mortals. There are numerous websites out there providing easier to digest examples and reference material, notably <a href="https://css-tricks.com/">CSS tricks</a> and the <a href="https://developer.mozilla.org/docs/Web/CSS/">Mozilla Developer Network</a>.</p>

<h3 id="structureofhtmlgeneratedfrommarkdown">Structure of HTML generated from Markdown</h3>

<p>The good news is that the HTML generated from Markdown is fairly simple. It contains only HTML elements without any classes or IDs. Also, the number of elements is quite small, so you won&#8217;t see the fancier stuff like <code>aside</code>, <code>nav</code>, <code>section</code> and the like, nor any <code>div</code>s wrapping elements. Basically, a HTML document generated from Markdown, has this structure:</p>

<pre><code class="html">&lt;head&gt;....&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;...&lt;/h1&gt;
  &lt;p&gt;...&lt;/p&gt;
  &lt;h2&gt;...&lt;/h2&gt;
  &lt;p&gt;...&lt;/p&gt;
  &lt;blockquote&gt;&lt;p&gt;...&lt;/p&gt;&lt;p&gt;...&lt;/p&lt;/blockquote&gt;
  other elements
&lt;/body&gt;
</code></pre>

<p>where other elements can be lists or tables. All elements except <code>head</code> and <code>body</code> can repeat any number of times. Links and images are just rendered as shown above inside a <code>p</code> element. This simple structure makes styling HTML generated from Markdown quite easy, at least compared to a full-fledged HTML document.</p>

<h3 id="layoutthefoundation">Lay out the foundation</h3>

<p>To start from scratch, I suggest to set all relevant values to reasonable defaults on the <code>body</code> element. This is sometimes referred to as a <em>CSS reset</em>. Of course, it is up to you what you consider &#8220;reasonable&#8221;. Something like this might be a starting point:</p>

<pre><code class="css">body {
  margin-left: 2em;
  font-family: &quot;Century Schoolbook&quot;, Times, serif;
  font-size: 1em;
  color: black;
  background-color: white;
  padding: 0;
  max-width: 55ch;
}
</code></pre>

<p>The choice of the <code>font-family</code> is very much a matter of taste (more so then everything else, probably). Here, I went for a serif font: &#8220;Century Schoolbook&#8221; is used if it&#8217;s available. Otherwise, &#8220;Times&#8221;, and if that&#8217;s also missing, the default serif font. Also, I specified a <code>font-size</code> of <code>1em</code>, which is exactly the same as the font size specified for the user agent (aka &#8220;browser&#8221;) used to render the HTML. This is not strictly necessary, but it makes sure that the default text size in your HTML is the same the user specified in their browser settings.</p>

<p>To make the text easier to read, the maximum width of the <code>body</code> element (and all its children!) is set to <code>55ch</code>, that is 55 average characters (loosely speaking). <code>padding</code> is the inner margin of an element that will remain blank, whereas <code>margin</code> is the space between the current element and its parent. Here, I specify a left margin of <code>2em</code> so that the text does start flush left.</p>

<h3 id="fine-tunehtmlelements">Fine-tune HTML elements</h3>

<p>These styles for <code>body</code> define a baseline. Now you can specify differing styles for other elements to your heart&#8217;s content. For example, if you&#8217;d like the first line of every paragraph to be indented by an em space, you could use</p>

<pre><code class="css">p {
  text-indent: 1em;
}
</code></pre>

<figure>
<img src="images/1em-Paragraph-Indent.png" alt="Paragraphs indented by 1em space" title="Paragraphs indented by 1em space" />
<figcaption>Paragraphs indented by 1em space</figcaption>
</figure>

<p>or if you&#8217;d want all first level headlines to have a red underline</p>

<pre><code class="css">h1 {
  text-decoration: underline red;
}
</code></pre>

<figure>
<img src="images/H1%20red%20underline.png" alt=""H1 headings underlined with red"" title="H1 headings underlined with red" />
<figcaption>&#8220;H1 headings underlined with red&#8221;</figcaption>
</figure>

<p>or if you&#8217;d want all third level headings to appear in uppercase</p>

<pre><code class="css">h2 {
  text-transform: uppercase;
}
</code></pre>

<figure>
<img src="images/H1%20red%20underline,%20H2%20uppercase.png" alt=""Uppercased H2 headings"" title="Uppercased H2 headings" />
<figcaption>&#8220;Uppercased H2 headings&#8221;</figcaption>
</figure>

<p>The latter, though, is probably not a very good idea – firstly, all uppercase letters are more difficult to read, secondly many readers will think that you&#8217;re screaming at them. And thirdly, the text looks fundamentally different than what you see in your Markdown document.</p>

<h2 id="stylingblockquotes">Styling block quotes</h2>

<p>You&#8217;ve already seen a short example that made quotes stand out from the regular text. Another, more advance one is this:</p>

<pre><code class="css">blockquote {
  margin-left: 2em;
  border-left: 1px red solid;
  background-color: lightgrey;
}
</code></pre>

<figure>
<img src="images/Blockquote%201.png" alt=""First attempt at blockquote styling"" title="First attempt at blockquote styling" />
<figcaption>&#8220;First attempt at blockquote styling&#8221;</figcaption>
</figure>

<p>Now, if you look at that in the rendered view, you might think that it leaves room for improvement. And it certainly does: first, the background color starts at the left side of the block, but the text begins <code>2em</code>s to the right of that. It would be nicer if only the text would have a different background color, not the whole block including the margin.</p>

<p>Then the first line of text is indented by <code>1em</code>. That happens because it is contained in a <code>p</code> element, and all <code>p</code> elements are indented. But we don&#8217;t want that for those paragraphs inside a <code>blockquote</code>:</p>

<pre><code class="css">blockquote &gt; p {
  text-indent: 0;
}
</code></pre>

<p>Here, <code>blockquote &gt; p</code> selects only those paragraphs that are immediate children of a <code>blockquote</code> element, and <code>text-indent: 0</code> resets the indentation of their first line so they&#8217;re flush left. Now you can use the same selector to change the background: Remove the setting for <code>background-color</code> from the <code>blockquote</code> style and add it to the style for the blockquote&#8217;s paragraph children like this</p>

<pre><code class="css">margin-left: 1em;
background-color: lightgrey;
</code></pre>

<figure>
<img src="images/Blockquote%202.png" alt=""Blockquote with white margin between text and red line"" title="Blockquote with white margin between text and red line" />
<figcaption>&#8220;Blockquote with white margin between text and red line&#8221;</figcaption>
</figure>

<p>That gives you a white margin of <code>1em</code> between the red vertical bar at the left and the grey background of the blockquote.</p>

<h2 id="whataboutfonts">What about fonts?</h2>

<p>If you want different fonts in your running text and your headline, you have to specify a different <code>font-family</code> for the headlines:</p>

<pre><code class="css">h1,
h2,
h3,
h4 {
  font-family: Avenir, Helvetica, &quot;sans serif&quot;;
}
</code></pre>

<p>![&#8220;Avenir for first and second level headings&#8221;](images/H1,%20H2%20Font.png &quot;Avenir for</p>

<p>first and second level headings&quot;)
This <code>font-family</code> applies to headlines level 1 through 4. Note that font names containing spaces must be enclosed in double quotes. The selector is an example for specifying the same style for several HTML elements: just list the elements (or even more complicated selectors like <code>blockquote &gt; p</code>) separated by commas.</p>

<p>Usually, the default font sizes for the different headings are ok. If you want to change those, use the attribute <code>font-size</code> and specify an <code>em</code> value, for example <code>2.0em</code> for a <code>h1</code>. Do not use pixels or other absolute values here: The person viewing your HTML might have chosen their own preferred font size in the browser settings and specifying absolute values for font sizes plays havoc with these settings.</p>

<p>Other font attributes you might want to use are <code>font-weight</code> to specify <code>light</code> or <code>bold</code> variants, <code>text-decoration</code> and <code>text-transform</code>.</p>

<h2 id="whataboutcolors">What about colors?</h2>

<p>The preceding samples used named colors. While that might seem natural (at least for English speaking people), it is a bit awkward. What if you want a particular type of light green with a blue tint? It would be a challenge to even come up with a single english word to describe that color. And you couldn&#8217;t be sure that your browser (or any browser) understands what you mean. Therefore, you can also specify colors by three hexadecimal digits like <code>#fff</code> (for white) or <code>#f00</code> (for a dark red) or by six of them (<code>#ffffff</code> or <code>#ff0000</code>). These values represent values for red, green and blue components. So instead of going with the <code>lightgrey</code> understood by browsers, you might want to use <code>#eee</code> which is more a dirty white.</p>

<p>Other ways to specify colors are using <code>rgb(red, green, blue)</code> where the values in parenthesis are numbers between 0 and 255 or <code>hsl(hue, lightness, saturation)</code>. <a href="https://developer.mozilla.org/de/docs/Web/CSS/color_value">MDN describes these variants in an article on <code>color</code> values.</a></p>

<h2 id="howtocenterelements">How to center elements</h2>

<p>Sometimes you might want to center certain elements, for example tables. Firstly, in many cases that only makes sense if the element is not as wide as the surrounding ones. So you should set a <code>width</code> value for your element that is smaller then the <code>body</code>&#8217;s width. After that, simply set both <code>margin-left</code> and <code>margin-right</code> to <code>auto</code>. That makes sure that both margins are equally wide and that the white space is evenly distributed to the left and right of your element – effectively centering it. For a table, you&#8217;d for example write</p>

<pre><code class="css">table {
  width: 45ch;
  margin-left: auto;
  margin-right: auto;
}
</code></pre>

<h2 id="sizingandstylingimages">Sizing and styling images</h2>

<p>Without styling, an image will be displayed as large as possible. If it is smaller than the enclosing element (i.e. <code>body</code>), it will be made as wide as the <code>body</code> element is. If it&#8217;s smaller, it will be displayed in its original size.</p>

<figure>
<img src="images/img%20full.png" alt="Default image display" title="Default image display" />
<figcaption>Default image display</figcaption>
</figure>

<p>The image height will be set to respect the original aspect ration and avoid distortion. There are ways to specify image width and height in the Markdown document itself, but I&#8217;d advise against it: It is a lot easier to style (and size) all images the same way with CSS. So,</p>

<pre><code class="css">img {
  width: 50%;
}
</code></pre>

<p>sets the width of all images to half of their parent element.</p>

<figure>
<img src="images/img%2050%.png" alt="Image scaled to half the width of its parent" title="Image scaled to half the width of its parent" />
<figcaption>Image scaled to half the width of its parent</figcaption>
</figure>

<p>If you try that out, you&#8217;ll notice that an image in the middle of a paragraph looks a bit weird since it interrupts the flow of the text in a funny way.</p>

<p>The reason for that is that an <code>img</code> element is rendered &#8220;inline&#8221;, like text. Since it takes up a lot more vertical space than a line of text, the text flow is interrupted.</p>

<p>One way to remedy this is make sure images are rendered differently:</p>

<pre><code>img {
  display: block;
}
</code></pre>

<figure>
<img src="images/img%20block.png" alt=""Image displayed as block"" title="Image displayed as block" />
<figcaption>&#8220;Image displayed as block&#8221;</figcaption>
</figure>

<p>That makes sure that images behave like paragraphs, i.e. they force line breaks before and after them.</p>

<p>Another, more visually pleasing way to style images is to make text flow around them as described below.</p>

<p>You might want to add a small shadow at the right and bottom margins of the image to make it stand out slightly:</p>

<pre><code class="css">img {
  box-shadow: 0.3em 0.3em 0.3em #ddd;
}
</code></pre>

<p>does just that. Explaining the values in detail would take up too much space here, though. You might want to read about <code>box-shadow</code> over at MDN and play around with the parameters.</p>

<h3 id="flowingtextaroundimages">Flowing text around images</h3>

<p>In many cases, it looks nicer if the text continues next to the image instead of having a wide blank area around the image. You can achieve this by &#8220;floating&#8221; the image:</p>

<pre><code class="css">img {
  float: left;
}
</code></pre>

<figure>
<img src="images/img%20float.png" alt=""Image floated to the left"" title="Image floated to the left" />
<figcaption>&#8220;Image floated to the left&#8221;</figcaption>
</figure>

<p>makes the image stay at the left margin of the document, while the text continues at its right side. You should set the top, right, and bottom margin for the <code>img</code> element, too, so that the text does not crowd it.</p>

<figure>
<img src="images/img%20float%20+%20margin.png" alt=""Image floated to the left with margins"" title="Image floated to the left with margins" />
<figcaption>&#8220;Image floated to the left with margins&#8221;</figcaption>
</figure>

<p>Instead of having the text flow around the image at the right side, you can set <code>float</code> to <code>right</code> so that the image appears at the document&#8217;s right margin and the text to the left of it.</p>

<h2 id="stylingtables">Styling tables</h2>

<p>Styling tables is more demanding than styling other elements. You first have to understand table structure: a <code>table</code> element consists of a head and a body (<code>thead</code> and <code>tbody</code>). Both of them in turn are made up of row (<code>tr</code>) elements. And every row consists of <code>th</code> (for a table head) or <code>td</code> elements which are finally defining the table cells themselves. So the whole thing looks like that:</p>

<pre><code class="html">&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;...&lt;/th&gt;
      &lt;th&gt;...&lt;/th&gt;
      ...
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      ...
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;...&lt;/td&gt;
      &lt;td&gt;...&lt;/td&gt;
      ...
    &lt;/tr&gt;
    ...
  &lt;/tbody&gt;
&lt;/table&gt;
</code></pre>

<p>You&#8217;ve just seen how to apply <a href="#how-to-center-elements">a very basic styling (i.e. centering) to the whole table</a>. Another, very basic amendment would be to set the background color for the table head:</p>

<pre><code class="css">tr th {
  background-color: #d0ffd0; /* a light blue */
}
</code></pre>

<figure>
<img src="images/Table%20blue%20header.png" alt=""Default table styling without borders"" />
<figcaption>&#8220;Default table styling without borders&#8221;</figcaption>
</figure>

<p>One detail many people want are lines dividing the columns and rows. That, however, is not something you can set for the whole table. Instead, you have to specify a <code>border</code> for the <code>td</code> and <code>th</code> cells (i.e. those in the body and the head of the table):</p>

<pre><code class="css">table :is(td, th) {
  border: 1px solid black;
  padding: 0.3em;
}
</code></pre>

<p>Here, <code>table :is(td.th)</code> is an abbreviation for <code>table td, table th</code>. The border is defined as being one pixel wide, using a solid black line. This is one of the few exceptions where a pixel dimension is ok – you just want a fine line around the cells, it doesn&#8217;t really matter how big a pixel is. The <code>padding</code> makes sure that the text in the cells has some space to breath.</p>

<p>However, these settings will result in a peculiar phenomenon in that there&#8217;s small white space now between the borders of the individual cells. They look a bit like windows in a building. To get rid of it, add <code>border-collapse: collapse</code> to the style of the <code>table</code> element.</p>

<figure>
<img src="images/Table%20border.png" alt=""Table with basic borders"" title="Table with basic borders" />
<figcaption>&#8220;Table with basic borders&#8221;</figcaption>
</figure>

<p>Another often required feature are alternating row colors. They&#8217;re fairly easy to achieve like this:</p>

<pre><code class="css">tbody tr:nth-child(even) {
  background-color: #e0e0ff; /* a lighter blue than for the header */
}
</code></pre>

<figure>
<img src="images/Table%20alternating%20row.png" alt=""Table with alternating row colors"" />
<figcaption>&#8220;Table with alternating row colors&#8221;</figcaption>
</figure>

<p>This will display every second row with a light blue background, starting with the second row. The <code>:nth-child</code> pseudo-class is a bit tricky, though. If you have trouble with it, try using <code>:nth-of-type</code> instead.</p>

<p>If you want to start it with the first row, use <code>even</code> instead of <code>odd</code> in the above selector. If you want different colors for every second row, combine these rules like so:</p>

<pre><code class="css">tbody tr:nth-child(even) {
  background-color: lightblue;
}
tbody tr:nth-child(odd) {
  background-color: lightgreen;
}
</code></pre>

<p>There are a lot of other &#8220;pseudo classes&#8221;, so it&#8217;s worth checking them out on MDN. Instead of <code>even</code> or <code>odd</code> you can specify more complicated rules like <code>4n+1</code> to select the rows 1, 5, 9, 13 etc. In fact, <code>even</code> is the same as <code>2n</code> and odd is <code>2n+1</code>.</p>

<h2 id="numberedheadings">Numbered headings</h2>

<p>By default, headings appear in HTML just as you typed them in your Markdown document. Especially in scientific publications, some kind of systematic numbering is often required. You can of course provide that by simply adding the number to your heading. However, that requires a lot of manual work and more so whenever you add, move or delete parts of the document.</p>

<p>CSS offers a much simpler way to render systematically numbered headlines with its concept of &#8220;counters&#8221;. You can read <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Counter_Styles/Using_CSS_counters#using_counters">all about counters at MDN</a>. The following examples are just a very limited demonstration of their abilities.</p>

<p>Let&#8217;s assume a Markdown document like this</p>

<pre><code class="markdown"># First heading

# Second heading

## First sub-heading of second heading

# Third heading

## First sub-heading of third heading

### Third heading's first sub-heading's first subheading

## Second sub-heading of third heading

# Fourth heading
</code></pre>

<p>Rendering that as HTML results in something like this</p>

<figure>
<img src="images/Headings%20no%20style.png" alt="Unstyled Headings" title="Unstyled Headings" />
<figcaption>Unstyled Headings</figcaption>
</figure>

<p>Adding a counter to the headings requires three steps:</p>

<ul>
<li>creating and initializing the counter with <code>counter-reset</code>,</li>
<li>incrementing it with <code>counter-increment</code>, and</li>
<li>displaying it with <code>content</code> and <code>counter()</code>.</li>
</ul>

<p>For the first level headings, you&#8217;d do it like this:</p>

<pre><code class="css">body {
  counter-reset: h1;
}
h1::before {
  counter-increment: h1;
  content: counter(h1) &quot;. &quot;;
}
</code></pre>

<p>First, you create a counter named <code>h1</code> in the CSS rule for the <code>body</code> element. Its value is set to <code>0</code> by default. Then comes the <code>::before</code> pseudo-element for the <code>h1</code> element. It&#8217;s different from other CSS selectors in that it <em>creates</em> an element (a pseudo one, though) in the <code>h1</code> element just before anything that is already part of this element. So the (pseudo-HTML) for the first heading would look like <code>&lt;h1&gt;&lt;before&gt;...&lt;/before&gt;First heading&lt;/h1&gt;</code>. Note that this <code>before</code> element does not exist! However, you can create and style it in a stylesheet like here. The rule for <code>h1::before</code> first increments the counter <code>h1</code> with <code>counter-increment</code>. Since it started out with <code>0</code> because of the <code>body</code> rule, it will now be <code>1</code>. Then this value is prepended to the content of <code>h1</code> with the <code>content:</code> directive: <code>counter(h1)</code> gets the value of the counter, and <code>&quot;. &quot;</code> appends a dot and a space. After all that, the headlines look like this: <img src="Headings%201st%20level%20numbering.png" alt="First level headings with a counter" title="First level headings with a counter" /></p>

<figure>
<img src="images/Headings%201st%20level%20numbering.png" alt="Numbered first level headings" />
<figcaption>Numbered first level headings</figcaption>
</figure>

<p>Now adding the corresponding rules for 2nd and 3rd level headings is a lot easier:</p>

<pre><code class="css">h1 {
  counter-reset: h2;
}
h2 {
  counter-reset: h3;
}
h2::before {
  counter-increment: h2;
  content: counter(h1) &quot;.&quot; counter(h2) &quot;. &quot;;
}
h3::before {
  counter-increment: h3;
  content: counter(h1) &quot;.&quot; counter(h2) &quot;.&quot; counter(h3) &quot;. &quot;;
}
</code></pre>

<p>The only new things here are the <code>content:</code> definitions for the level 2 and 3 headings and the <code>counter-reset</code>s: Whenever a new level 1 heading appears, the <code>h2</code> counter must be reset so that the next level 2 heading is numbered with 1 again. The same holds for a new level 2 heading that must reset the <code>h3</code> counter.</p>

<figure>
<img src="images/Headings%20all%20levels%20numbering.png" alt="All headings numbered" title="All headings numbered" />
<figcaption>All headings numbered</figcaption>
</figure>

<p>If you now move the line &#8220;# Second Heading&#8221; down to just before &#8220;# Third heading&#8221;, you&#8217;ll get this HTML:</p>

<figure>
<img src="images/Headings%202nd%20moved.png" alt="Second heading moved " title="Second heading moved" />
<figcaption>Second heading moved </figcaption>
</figure>

<p>As you can see, the former &#8220;2.1 First sub-heading of second heading&#8221; has now become &#8220;1.1 First sub-heading of second heading&#8221;, since it&#8217;s now following the first <code>h1</code> element, no longer the second one.</p>

<p>If you delete the line &#8220;# Second Heading&#8221; completely, the numbering for all subsequent headings will be adjusted:</p>

<figure>
<img src="images/Heading%202nd%20removed.png" alt="Heading 2 deleted" title="Heading 2 deleted" />
<figcaption>Heading 2 deleted</figcaption>
</figure>

<p>CSS counters can not only be used for headings but also for lists, footnotes and links. You&#8217;re not limited to Arabic numerals but can<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Counter_Styles"> define your own <code>counter-style</code></a>.</p>

<h2 id="whataboutdarkmode">What about dark mode?</h2>

<p>Until now, all examples were assuming that the document is displayed as dark text on a white background. That would look weird on a device set to dark mode, where text should be light on a dark background. But fortunately, CSS is able to determine if the device is currently set to dark mode.</p>

<p>This is achieved with a &#8220;media selector&#8221; like so:</p>

<pre><code class="css">@media (prefers-color-scheme: dark) {
  ... style definitions go here;
}
</code></pre>

<p>The simplest style definition for dark mode would be something like</p>

<pre><code class="css">body {
  background-color: black;
  color: white;
}
</code></pre>

<p>and you have to make sure to put this <em>inside</em> the curly braces following the media selector like so:</p>

<pre><code class="css">@media (prefers-color-scheme:dark) {
  body {
    background-color: black;
    color: white;
  }
}
</code></pre>

<p>This is just the most basic setting. If you use a more complex color scheme, you verify that it is rendered nicely in dark mode. For example, all but the lightest shades of gray might be difficult to recognize.</p>

<p>If you&#8217;re using borders, you might want to make them wider in dark mode since light on dark is more difficult to see than dark on white. Also, a font with very fine character stems might not be a good idea for dark mode, since these stems are harder to recognize.</p>

<p>Of course, if you prefer dark over light mode anyway, you could set up the main part of your CSS so that it works well on a dark background. And then use</p>

<pre><code class="css">@media (prefers-color-scheme:light) {
    body {
    background-color: white;
    color: black;
  }
}
</code></pre>

<p>as a starting point for a light mode style sheet.</p>
